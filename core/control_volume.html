

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control Volume Classes &mdash; IDAES v1.0.1</title>
  

  
  
    <link rel="shortcut icon" href="../_static/idaes-logo.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/theme_and_schema.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="0D Control Volume Class" href="control_volume_0d.html" />
    <link rel="prev" title="Unit Model Class" href="unit_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IDAES
          

          
            
            <img src="../_static/idaes-logo-100x100.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standards.html">IDAES Modeling Standards</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Core Library</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#core-contents">Core Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="configuration.html">IDAES Framework Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="process_block.html">Process Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_concepts.html">IDAES Modeling Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="flowsheet_model.html">Flowsheet Model Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="properties.html">Property Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="unit_model.html">Unit Model Class</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Control Volume Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="control_volume_0d.html">0D Control Volume Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="control_volume_1d.html">1D Control Volume Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-control-volume-tasks">Common Control Volume Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-time-domain">Setting up the time domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-property-package-information">Getting Property Package Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#collecting-indexing-sets-for-property-package">Collecting Indexing Sets for Property Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#controlvolume-and-controlvolumeblockdata-classes">ControlVolume and ControlVolumeBlockData Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auto-construct-method">Auto-Construct Method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="util/index.html">Utility Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#core-overview">Core Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Unit Model Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../property_models/index.html">Property Model Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vis/index.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dmf/index.html">Data Management Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version.html">IDAES Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples and tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IDAES</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Core Library</a> &raquo;</li>
        
      <li>Control Volume Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/core/control_volume.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-idaes.core.control_volume_base">
<span id="control-volume-classes"></span><h1>Control Volume Classes<a class="headerlink" href="#module-idaes.core.control_volume_base" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="control_volume_0d.html">0D Control Volume Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="control_volume_1d.html">1D Control Volume Class</a></li>
</ul>
</div>
<p>Control Volumes are the center of the IDAES process modeling framework, and serve as the fundamental building block of all unit operations. Control Volumes represent a single, well-defined volume of material over which material, energy and/or momentum balances will be performed.</p>
<p>The IDAES Control Volume classes are designed to facilitate the construction of these balance equations by providing the model developer with a set of pre-built methods to perform the most common tasks in developing models of unit operations. The Control Volume classes contain methods for creating and linking the necessary property calculations and writing common forms of the balance equations so that the model developer can focus their time on the aspects that make each unit model unique.</p>
<p>The IDAES process modeling framework currently supports two types of Control Volume:</p>
<ul class="simple">
<li><p><a class="reference internal" href="control_volume_0d.html#idaes.core.control_volume0d.ControlVolume0DBlock" title="idaes.core.control_volume0d.ControlVolume0DBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlVolume0DBlock</span></code></a> represents a single well-mixed volume of material with a single inlet and a single outlet. This type of control volume is sufficient to model most inlet-outlet type unit operations which do not require spatial discretization.</p></li>
<li><p><a class="reference internal" href="control_volume_1d.html#idaes.core.control_volume1d.ControlVolume1DBlock" title="idaes.core.control_volume1d.ControlVolume1DBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlVolume1DBlock</span></code></a> represents a volume with spatial variation in one dimension parallel to the material flow. This type of control volume is useful for representing flow in pipes and simple 1D flow reactors.</p></li>
</ul>
<div class="section" id="common-control-volume-tasks">
<h2>Common Control Volume Tasks<a class="headerlink" href="#common-control-volume-tasks" title="Permalink to this headline">¶</a></h2>
<p>All of the IDAES Control Volume classes are built on a common core (<a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData" title="idaes.core.control_volume_base.ControlVolumeBlockData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlVolumeBlockData</span></code></a>) which defines a set of common tasks required for all Control Volumes. The more specific Control Volume classes then build upon these common tasks to provide tools appropriate for their specific application.</p>
<p>All Control Volume classes begin with the following tasks:</p>
<ul class="simple">
<li><p>Determine if the <code class="docutils literal notranslate"><span class="pre">ControlVolume</span></code> should be steady-state or dynamic.</p></li>
<li><p>Get the time domain.</p></li>
<li><p>Determine whether material and energy holdups should be calculated.</p></li>
<li><p>Collect information necessary for creating <code class="docutils literal notranslate"><span class="pre">StateBlocks</span></code> and <code class="docutils literal notranslate"><span class="pre">ReactionBlocks</span></code>.</p></li>
<li><p>Create references to <code class="docutils literal notranslate"><span class="pre">phase_list</span></code> and <code class="docutils literal notranslate"><span class="pre">component_list</span></code> Sets in the <code class="docutils literal notranslate"><span class="pre">PhysicalParameterBlock</span></code>.</p></li>
</ul>
<p>More details on these steps is <a class="reference internal" href="#time-domain-setup"><span class="std std-ref">provided later</span></a>.</p>
</div>
<div class="section" id="setting-up-the-time-domain">
<h2>Setting up the time domain<a class="headerlink" href="#setting-up-the-time-domain" title="Permalink to this headline">¶</a></h2>
<p id="time-domain-setup">The first common task the Control Volume block performs is to determine if it should be dynamic or steady-state and to collect the time domain from the UnitModel. Control Volume blocks have an argument <code class="docutils literal notranslate"><span class="pre">dynamic</span></code> which can be provided during construction which specifies if the Control Volume should be dynamic (<code class="docutils literal notranslate"><span class="pre">dynamic=True</span></code>) or steady-state (<code class="docutils literal notranslate"><span class="pre">dynamic=False</span></code>). If the argument is not provided, the Control Volume block will inherit this argument from its parent <code class="docutils literal notranslate"><span class="pre">UnitModel</span></code>.</p>
<p>After setting the dynamic argument, the Control Volume block then creates a reference to the time domain (<code class="docutils literal notranslate"><span class="pre">time_ref</span></code>) from the <code class="docutils literal notranslate"><span class="pre">UnitModel</span></code>. If the block containing the Control Volume block does not have an attribute named time a <code class="docutils literal notranslate"><span class="pre">DynamicsError</span></code> will be returned.</p>
<p>Finally, the Control Volume checks that the <code class="docutils literal notranslate"><span class="pre">has_holdup</span></code> argument is consistent with the <code class="docutils literal notranslate"><span class="pre">dynamic</span></code> argument, and raises a <code class="docutils literal notranslate"><span class="pre">ConfigurationError</span></code> if it is not.</p>
</div>
<div class="section" id="getting-property-package-information">
<h2>Getting Property Package Information<a class="headerlink" href="#getting-property-package-information" title="Permalink to this headline">¶</a></h2>
<p>If a reference to a property package was not provided by the <code class="docutils literal notranslate"><span class="pre">UnitModel</span></code> as an argument, the Control Volume first checks to see if the <code class="docutils literal notranslate"><span class="pre">UnitModel</span></code> has a <code class="docutils literal notranslate"><span class="pre">property_package</span></code> argument set, and uses this if present. Otherwise, the Control Volume block begins searching up the model tree looking for an argument named <code class="docutils literal notranslate"><span class="pre">default_property_package</span></code> and uses the first of these that it finds. If no <code class="docutils literal notranslate"><span class="pre">default_property_package</span></code> is found, a <code class="docutils literal notranslate"><span class="pre">ConfigurationError</span></code> is returned.</p>
</div>
<div class="section" id="collecting-indexing-sets-for-property-package">
<h2>Collecting Indexing Sets for Property Package<a class="headerlink" href="#collecting-indexing-sets-for-property-package" title="Permalink to this headline">¶</a></h2>
<p>The final common step for all Control Volumes is to collect any required indexing sets from the physical property package (for example component and phase lists). These are used by the Control Volume for determining what balance equations need to be written, and what terms to create.</p>
<p>The indexing sets the Control Volume looks for are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">component_list</span></code> - used to determine what components are present, and thus what material balances are required</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phase_list</span></code> - used to determine what phases are present, and thus what balance equations are required</p></li>
</ul>
</div>
<div class="section" id="controlvolume-and-controlvolumeblockdata-classes">
<h2>ControlVolume and ControlVolumeBlockData Classes<a class="headerlink" href="#controlvolume-and-controlvolumeblockdata-classes" title="Permalink to this headline">¶</a></h2>
<p>A key purpose of Control Volumes is to automate as much of the task of writing a unit model as possible. For this purpose, Control Volumes support a number of methods for common tasks model developers may want to perform. The specifics of these methods will be different between different types of Control Volumes, and certain methods may not be applicable to some types of Control Volumes (in which case a <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> will be returned). A full list of potential methods is provided here, however users should check the documentation for the specific Control Volume they are using for more details on what methods are supported in that specific Control Volume.</p>
<dl class="class">
<dt id="idaes.core.control_volume_base.ControlVolume">
<em class="property">class </em><code class="descclassname">idaes.core.control_volume_base.</code><code class="descname">ControlVolume</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is not usually used directly. Use ControlVolume0DBlock or ControlVolume1DBlock instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rule</strong> (<em>function</em>) – A rule function or None. Default rule calls build().</p></li>
<li><p><strong>concrete</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True, make this a toplevel model. <strong>Default</strong> - False.</p></li>
<li><p><strong>ctype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Pyomo ctype of the block.  <strong>Default</strong> - “Block”</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <p>Default ProcessBlockData config</p>
<dl class="simple">
<dt>Keys</dt><dd><dl class="simple">
<dt>dynamic</dt><dd><p>Indicates whether this model will be dynamic, <strong>default</strong>
- useDefault. <strong>Valid values:</strong> { <strong>useDefault</strong> - get
flag from parent, <strong>True</strong> - set as a dynamic model,
<strong>False</strong> - set as a steady-state model}</p>
</dd>
<dt>has_holdup</dt><dd><p>Indicates whether holdup terms should be constructed or
not. Must be True if dynamic = True, <strong>default</strong> - False.
<strong>Valid values:</strong> { <strong>True</strong> - construct holdup terms,
<strong>False</strong> - do not construct holdup terms}</p>
</dd>
<dt>property_package</dt><dd><p>Property parameter object used to define property
calculations, <strong>default</strong> - useDefault. <strong>Valid values:</strong>
{ <strong>useDefault</strong> - use default package from parent model
or flowsheet, <strong>PropertyParameterObject</strong> - a
PropertyParameterBlock object.}</p>
</dd>
<dt>property_package_args</dt><dd><p>A ConfigBlock with arguments to be passed to a property
block(s) and used when constructing these, <strong>default</strong> -
None. <strong>Valid values:</strong> { see property package for
documentation.}</p>
</dd>
<dt>reaction_package</dt><dd><p>Reaction parameter object used to define reaction
calculations, <strong>default</strong> - None. <strong>Valid values:</strong> {
<strong>None</strong> - no reaction package, <strong>ReactionParameterBlock</strong>
- a ReactionParameterBlock object.}</p>
</dd>
<dt>reaction_package_args</dt><dd><p>A ConfigBlock with arguments to be passed to a reaction
block(s) and used when constructing these, <strong>default</strong> -
None. <strong>Valid values:</strong> { see reaction package for
documentation.}</p>
</dd>
<dt>auto_construct</dt><dd><p>If set to True, this argument will trigger the
auto_construct method which will attempt to construct a
set of material, energy and momentum balance equations
based on the parent unit’s config block. The parent unit
must have a config block which derives from CONFIG_Base,
<strong>default</strong> - False. <strong>Valid values:</strong> { <strong>True</strong> - use
automatic construction, <strong>False</strong> - do not use automatic
construciton.}</p>
</dd>
</dl>
</dd>
</dl>
</p></li>
<li><p><strong>initialize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – ProcessBlockData config for individual elements. Keys
are BlockData indexes and values are dictionaries described under the
“default” argument above.</p></li>
<li><p><strong>idx_map</strong> (<em>function</em>) – Function to take the index of a BlockData element and
return the index in the initialize dict from which to read arguments.
This can be provided to overide the default behavior of matching the
BlockData index exactly to the index in initialize.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(ControlVolume) New instance</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData">
<em class="property">class </em><code class="descclassname">idaes.core.control_volume_base.</code><code class="descname">ControlVolumeBlockData</code><span class="sig-paren">(</span><em>component</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData" title="Permalink to this definition">¶</a></dt>
<dd><p>The ControlVolumeBlockData Class forms the base class for all IDAES
ControlVolume models. The purpose of this class is to automate the tasks
common to all control volume blockss and ensure that the necessary
attributes of a control volume block are present.</p>
<p>The most signfiicant role of the ControlVolumeBlockData class is to set up the
bconstruction arguments for the control volume block, automatically link to
the time domain of the parent block, and to get the information about the
property and reaction packages.</p>
<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_energy_balances">
<code class="descname">add_energy_balances</code><span class="sig-paren">(</span><em>balance_type=EnumValue(&lt;pyutilib.enum.enum.Enum object&gt;</em>, <em>1</em>, <em>'enthalpyPhase')</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_energy_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_energy_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>General method for adding energy balances to a control volume.
This method makes calls to specialised sub-methods for each type of
energy balance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balance_type</strong> (<em>EnergyBalanceType</em>) – Enum indicating which type of
energy balance should be constructed.</p></li>
<li><p><strong>has_heat_of_reaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether terms for heat of reaction
should be included in energy balance</p></li>
<li><p><strong>has_heat_transfer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether generic heat transfer terms should
be included in energy balances</p></li>
<li><p><strong>has_work_transfer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether generic mass transfer terms should
be included in energy balances</p></li>
<li><p><strong>custom_term</strong> (<em>Expression</em>) – a Pyomo Expression representing custom
terms to be included in energy balances</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Constraint objects constructed by sub-method</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_geometry">
<code class="descname">add_geometry</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for defining the geometry of the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_material_balances">
<code class="descname">add_material_balances</code><span class="sig-paren">(</span><em>balance_type=EnumValue(&lt;pyutilib.enum.enum.Enum object&gt;</em>, <em>1</em>, <em>'componentPhase')</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_material_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_material_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>General method for adding material balances to a control volume.
This method makes calls to specialised sub-methods for each type of
material balance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>- MaterialBalanceType Enum indicating which type of</strong> (<em>balance_type</em>) – material balance should be constructed.</p></li>
<li><p><strong>- whether default generation terms for rate</strong> (<em>has_rate_reactions</em>) – reactions should be included in material balances</p></li>
<li><p><strong>- whether generation terms should for</strong> (<em>has_equilibrium_reactions</em>) – chemical equilibrium reactions should be included in
material balances</p></li>
<li><p><strong>- whether generation terms should for phase</strong> (<em>has_phase_equilibrium</em>) – equilibrium behaviour should be included in material
balances</p></li>
<li><p><strong>- whether generic mass transfer terms should be</strong> (<em>has_mass_transfer</em>) – included in material balances</p></li>
<li><p><strong>- a Pyomo Expression representing custom terms to</strong> (<em>custom_mass_term</em>) – be included in material balances on a molar basis.</p></li>
<li><p><strong>- a Pyomo Expression representing custom terms to</strong> – be included in material balances on a mass basis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Constraint objects constructed by sub-method</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_momentum_balances">
<code class="descname">add_momentum_balances</code><span class="sig-paren">(</span><em>balance_type=EnumValue(&lt;pyutilib.enum.enum.Enum object&gt;</em>, <em>1</em>, <em>'pressureTotal')</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_momentum_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_momentum_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>General method for adding momentum balances to a control volume.
This method makes calls to specialised sub-methods for each type of
momentum balance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balance_type</strong> (<em>MomentumBalanceType</em>) – Enum indicating which type of
momentum balance should be constructed.</p></li>
<li><p><strong>has_pressure_change</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether default generation terms for
pressure change should be included in momentum balances</p></li>
<li><p><strong>custom_term</strong> (<em>Expression</em>) – a Pyomo Expression representing custom
terms to be included in momentum balances</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Constraint objects constructed by sub-method</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_component_balances">
<code class="descname">add_phase_component_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_phase_component_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_component_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding material balances indexed by phase and component to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_energy_balances">
<code class="descname">add_phase_energy_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_phase_energy_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_energy_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding energy balances (including kinetic energy) indexed by
phase to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_enthalpy_balances">
<code class="descname">add_phase_enthalpy_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_phase_enthalpy_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_enthalpy_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding enthalpy balances indexed by phase to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_momentum_balances">
<code class="descname">add_phase_momentum_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_phase_momentum_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_momentum_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding momentum balances indexed by phase to the control
volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_pressure_balances">
<code class="descname">add_phase_pressure_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_phase_pressure_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_phase_pressure_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding pressure balances indexed by
phase to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_reaction_blocks">
<code class="descname">add_reaction_blocks</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_reaction_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_reaction_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding ReactionBlocks to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_state_blocks">
<code class="descname">add_state_blocks</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_state_blocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_state_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding StateBlocks to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_component_balances">
<code class="descname">add_total_component_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_component_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_component_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding material balances indexed by component to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_element_balances">
<code class="descname">add_total_element_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_element_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_element_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding total elemental material balances indexed to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_energy_balances">
<code class="descname">add_total_energy_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_energy_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_energy_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding a total energy balance (including kinetic energy)
to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_enthalpy_balances">
<code class="descname">add_total_enthalpy_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_enthalpy_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_enthalpy_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding a total enthalpy balance to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_material_balances">
<code class="descname">add_total_material_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_material_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_material_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding a total material balance to
the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_momentum_balances">
<code class="descname">add_total_momentum_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_momentum_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_momentum_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding a total momentum balance to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.add_total_pressure_balances">
<code class="descname">add_total_pressure_balances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.add_total_pressure_balances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_total_pressure_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for adding a total pressure balance to the control volume.</p>
<p>See specific control volume documentation for details.</p>
</dd></dl>

<dl class="method">
<dt id="idaes.core.control_volume_base.ControlVolumeBlockData.build">
<code class="descname">build</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/idaes/core/control_volume_base.html#ControlVolumeBlockData.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#idaes.core.control_volume_base.ControlVolumeBlockData.build" title="Permalink to this definition">¶</a></dt>
<dd><p>General build method for Control Volumes blocks. This method calls a
number of sub-methods which automate the construction of expected
attributes of all ControlVolume blocks.</p>
<p>Inheriting models should call <cite>super().build</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="auto-construct-method">
<h2>Auto-Construct Method<a class="headerlink" href="#auto-construct-method" title="Permalink to this headline">¶</a></h2>
<p>To reduce the demands on unit model developers even further, Control Volumes have an optional auto-construct feature that will attempt to populate the Control Volume based on a set of instructions provided at the Unit Model level. If the <code class="docutils literal notranslate"><span class="pre">auto_construct</span></code> configuration argument is set to <cite>True</cite>, the following methods are called automatically in the following order when instantiating the Control Volume.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_geometry" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_geometry"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_geometry</span></code></a></p></li>
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_state_blocks" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_state_blocks"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_state_blocks</span></code></a></p></li>
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_reaction_blocks" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_reaction_blocks"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_reaction_blocks</span></code></a></p></li>
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_material_balances" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_material_balances"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_material_balances</span></code></a></p></li>
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_energy_balances" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_energy_balances"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_energy_balances</span></code></a></p></li>
<li><p><a class="reference internal" href="#idaes.core.control_volume_base.ControlVolumeBlockData.add_momentum_balances" title="idaes.core.control_volume_base.ControlVolumeBlockData.add_momentum_balances"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_momentum_balances</span></code></a></p></li>
<li><p><a class="reference internal" href="control_volume_1d.html#idaes.core.control_volume1d.ControlVolume1DBlockData.apply_transformation" title="idaes.core.control_volume1d.ControlVolume1DBlockData.apply_transformation"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_transformation</span></code></a></p></li>
</ol>
<p>To determine what terms are required for the balance equations, the Control Volume expects the Unit Model to have the following configuration arguments, which are used as arguments to the methods above.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dynamic</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_holdup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material_balance_type</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">energy_balance_type</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">momentum_balance_type</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_rate_reactions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_equilibrium_reactions</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_phase_equilibrium</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_mass_transfer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_heat_of_reaction</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_heat_transfer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_work_transfer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_pressure_change</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">property_package</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">property_package_args</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reaction_package</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reaction_package_args</span></code></p></li>
</ul>
<p>For convenience, a template <code class="docutils literal notranslate"><span class="pre">ConfigBlock</span></code> (named <cite>CONFIG_Template</cite>) is available in the <code class="docutils literal notranslate"><span class="pre">control_volume_base.py</span></code> module which contains all the necessary arguments which can be inherited by unit models wishing to use the auto-construct feature.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="control_volume_0d.html" class="btn btn-neutral float-right" title="0D Control Volume Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="unit_model.html" class="btn btn-neutral float-left" title="Unit Model Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, David Miller et al.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>